<?phpnamespace application\core;use application\config\Config;abstract class Controller{    public $route;    public $view;    public $model;    public $acl;    public function __construct($route)    {        $this->acl = require 'application/acl/' . ucfirst($route['controller']) . 'ACL.php';        $this->route = $route;        if (!$this->checkAcl())        {            View::errorCode(403);        }        $this->view = new View($route);        $this->model = $this->loadModel($route['controller']);    }    private function loadModel($model_name)    {        $path = '\\application\\models\\' . ucfirst($model_name) . 'Model';        if (class_exists($path))        {            return new $path;        }        return null;    }    private function checkAcl()    {        if ($this->isAcl('all'))        {            return true;        }        if (!isset($_SESSION['account']) and $this->isAcl('guest'))        {            return true;        }        if (isset($_SESSION['account']) and $_SESSION['account']['role_id'] == 1 and $this->isAcl('user'))        {            return true;        }        if (isset($_SESSION['account']) and $_SESSION['account']['role_id'] == 2 and $this->isAcl('admin'))        {            return true;        }        return false;    }    private function isAcl($key)    {        return in_array($this->route['action'], $this->acl[$key]);    }}