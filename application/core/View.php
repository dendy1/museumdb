<?phpnamespace application\core;use application\config\Config;class View{    public $params;    public $path;    public $layout = 'default';    public function __construct($params)    {        $this->params = $params;        $this->path = $params['controller'] . '/' . $params['action'];        $layout = 'application/views/layouts/' . $params['controller'] . '.php';        if (file_exists($layout))        {            $this->layout = $params['controller'];        }    }    public function render($page_title, $vars = [])    {        extract($vars);        $path = 'application/views/' . $this->path . '.php';        if (file_exists($path))        {            ob_start();            require $path;            $content = ob_get_clean();            require 'application/views/layouts/' . $this->layout . '.php';        } else        {            View::errorCode(404);        }    }    public static function errorCode($code, $vars = [])    {        if (empty($vars))        {            $vars = ['url' => Config::ERROR_DEFAULT_URL, 'url_text' => Config::ERROR_DEFAULT_URL_TEXT];        }        extract($vars);        http_response_code($code);        ob_start();        require 'application/views/errors/' . $code . '.php';        $content = ob_get_clean();        require 'application/views/layouts/error.php';        exit();    }    public function redirect($url)    {        header('Location: ' . $url);        exit();    }    public function simpleMessage($type, $title, $text)    {        exit(json_encode(['type' => $type, 'title' => $title, 'text' => $text]));    }    public function redirectMessage($url, $timer, $type = 'warning', $title = 'Перенаправление', $text = 'Сейчас вы будете перенаправлены на ')    {        if ($text == 'Сейчас вы будете перенаправлены на ')        {            $text = $text . $url;        }        exit(json_encode(['type' => $type, 'title' => $title, 'text' => $text, 'timer' => $timer, 'url' => $url]));    }    public function confirmation_message($submit_url, $submit_text = 'Сделать это!', $cancel_text = 'Отмена', $type = 'warning', $title = 'Вы уверены?', $text = 'Подумайте над выбором, отменить действие в будущем будет невозможно!')    {        exit(json_encode(['type' => $type, 'title' => $title, 'text' => $text, 'submit_url' => $submit_url, 'submit_text' => $submit_text, 'cancel_text' => $cancel_text]));    }}